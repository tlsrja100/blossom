<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
 <mapper namespace="com.blossom.mapper.ReviewMapper">
 	
 	<insert id="reviewInsert">
 		<selectKey keyProperty="num" order="BEFORE" resultType="int">
 		select blossom_review_seq.nextVal from dual
 		</selectKey>
 		insert into blossom_review (num, title, writer, content, regdate)
 			values (#{num}, #{title}, #{writer}, #{content}, sysdate)
 	</insert>
 	
 	
	<!-- <insert id="reviewInsert">
		insert into blossom_review (num, title, writer, content, regdate, uuid, uploadpath, filename, filetype)
		values (blossom_review_seq.nextVal, #{title}, #{writer}, #{content}, sysdate, #{uuid, jdbcType=VARCHAR}, #{uploadPath, jdbcType=VARCHAR}, #{fileName, jdbcType=VARCHAR}, #{fileType})
	</insert> -->
 
 	<!-- <insert id="reviewInsert">
 		<![CDATA[
		INSERT ALL
			INTO BLOSSOM_REVIEW (num, title, writer, content, regdate)
				VALUES (#{num}, #{title}, #{writer}, #{content}, SYSDATE)
			INTO REVIEW_FILE (uuid, uploadPath, fileName, num)
				VALUES (#{uuid}, #{uploadPath}, #{fileName}, #{num})
			SELECT * FROM BLOSSOM_REVIEW, REVIEW_FILE
 			WHERE NUM = #{NUM}
 		]]>
 	</insert> -->
 </mapper>